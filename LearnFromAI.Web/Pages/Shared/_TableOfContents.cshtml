@model (int? CourseId, int? CurrentSubjectId, int? CurrentExerciseId)

<h2 class="text-xl font-bold mb-4 text-primary">Course Outline</h2>
<div id="tableOfContents" class="space-y-2">
  @for (int i = 0; i < 5; i++)
  {
    <div class="animate-pulse flex space-x-4">
      <div class="flex-1 space-y-2 py-1">
        <div class="h-4 bg-gray-200 rounded w-3/4"></div>
        <div class="h-4 bg-gray-200 rounded w-5/6"></div>
      </div>
    </div>
  }
</div>

<script type="module">
  import { tableOfContentsModule } from '/js/tableOfContentsModule.js';

  (async function initializeTableOfContents() {
    const courseId = @(Model.CourseId.HasValue ? Model.CourseId.Value.ToString() : "null");
    const currentSubjectId = @(Model.CurrentSubjectId.HasValue ? Model.CurrentSubjectId.Value.ToString() : "null");
    const currentExerciseId = @(Model.CurrentExerciseId.HasValue ? Model.CurrentExerciseId.Value.ToString() : "null");

    await tableOfContentsModule.loadTableOfContents(courseId, currentSubjectId, currentExerciseId);
  })();
</script>
